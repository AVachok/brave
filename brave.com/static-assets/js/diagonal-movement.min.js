"use strict";(function(){var a=function(a){b(a)};window.menuAim=a;function b(y){var b=null,f=[],g=null,d=null,a=m({menu:'',menuContainer:'',rows:!1,submenuSelector:"*",submenuDirection:"right",tolerance:0,enter:function(){},exit:function(){},activate:function(){},deactivate:function(){},exitMenu:function(){}},y),e=a.menu,h,x,v,k,l,q,n,o,p,j,r,s,t,w,c,i;e=a.menu,h=a.menuContainer,x=3,v=300,k=function(a){window.requestAnimationFrame?window.requestAnimationFrame(function(){l(a)}):l(a)},l=function(a){f.push({x:a.pageX,y:a.pageY}),f.length>x&&f.shift()},q=function(){d&&clearTimeout(d),a.exitMenu(this)&&(b&&a.deactivate(b),b=null)},n=function(){d&&clearTimeout(d),a.enter(this),r(this)},o=function(){a.exit(this)},p=function(){j(this)},j=function(c){if(c==b)return;b&&a.deactivate(b),a.activate(c),b=c},r=function c(a){var b=s();b?d=setTimeout(function(){c(a)},b):j(a)},s=function(){var k,l,o,m,j,d,c,e,i,r,s,q,p;if(!b||!u(b,a.submenuSelector))return 0;function t(b){var a=b.getBoundingClientRect();return{top:a.top+window.pageYOffset,left:a.left+window.pageXOffset}}if(k=t(h),l={x:0,y:k.top-a.tolerance},o={x:h.offsetWidth,y:l.y},m={x:0,y:k.top+h.offsetHeight+a.tolerance},j={x:h.offsetWidth,y:m.y},d=f[f.length-1],c=f[0],!d)return 0;if(c||(c=d),c.x<k.left||c.x>j.x||c.y<k.top||c.y>j.y)return 0;if(g&&d.x==g.x&&d.y==g.y)return 0;function n(a,b){return(b.y-a.y)/(b.x-a.x)}return e=o,i=j,a.submenuDirection=="left"?(e=m,i=l):a.submenuDirection=="below"?(e=j,i=m):a.submenuDirection=="above"&&(e=l,i=o),r=n(d,e),s=n(d,i),q=n(c,e),p=n(c,i),r<q&&s>p?(g=d,v):(g=null,0)},t=function(c){d&&clearTimeout(d),b&&c&&a.deactivate(b),b=null};function u(b,a){if(a.nodeType)return b===a;for(var c=typeof a=='string'?document.querySelectorAll(a):a,d=c.length,e=[];d--;)if(c[d]===b)return!0;return!1}function m(){var a={},c=!1,b=0,d=arguments.length,e,f;for(Object.prototype.toString.call(arguments[0])==='[object Boolean]'&&(c=arguments[0],b++),e=function(d){for(var b in d)Object.prototype.hasOwnProperty.call(d,b)&&(c&&Object.prototype.toString.call(d[b])==='[object Object]'?a[b]=m(!0,a[b],d[b]):a[b]=d[b])};b<d;b++)f=arguments[b],e(f);return a}if(w=function(){if(e.removeEventListener('mouseleave',q),document.removeEventListener('mousemove',k),c.length>0)for(var a=0;a<c.length;a++)c[a].removeEventListener('mouseenter',n),c[a].removeEventListener('mouseleave',o),c[a].removeEventListener('click',p)},e.addEventListener('mouseleave',q),c=a.rows?a.rows:e.children,c.length>0)for(i=0;i<c.length;i++)(function(a){c[a].addEventListener('mouseenter',n),c[a].addEventListener('mouseleave',o),c[a].addEventListener('click',p)})(i);document.addEventListener('mousemove',k),e.addEventListener('reset',function(a){t(a.detail)}),e.addEventListener('destroy',w)}})()